# ğŸ“˜ ××¡××š ×˜×›× ×™ - ××›"× ×’×©×

## ×ª×•×›×Ÿ ×¢× ×™×™× ×™×
1. [××¨×›×™×˜×§×˜×•×¨×ª ×”××¢×¨×›×ª](#××¨×›×™×˜×§×˜×•×¨×ª-×”××¢×¨×›×ª)
2. [×¨×›×™×‘×™ ×”××¢×¨×›×ª](#×¨×›×™×‘×™-×”××¢×¨×›×ª)
3. [×–×¨×™××ª × ×ª×•× ×™×](#×–×¨×™××ª-× ×ª×•× ×™×)
4. [× ×™×”×•×œ State](#× ×™×”×•×œ-state)
5. [××•×¤×˜×™××™×–×¦×™×•×ª ×•×‘×™×¦×•×¢×™×](#××•×¤×˜×™××™×–×¦×™×•×ª-×•×‘×™×¦×•×¢×™×)
6. [××‘×˜×—×” ×•×¤×¨×˜×™×•×ª](#××‘×˜×—×”-×•×¤×¨×˜×™×•×ª)

---

## ××¨×›×™×˜×§×˜×•×¨×ª ×”××¢×¨×›×ª

### ×©×›×‘×ª Client (Frontend)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Browser Layer                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚           React Application                   â”‚     â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚     â”‚
â”‚  â”‚  â”‚  App.tsx   â”‚â”€â–¶â”‚  Hooks     â”‚             â”‚     â”‚
â”‚  â”‚  â”‚  (Controller)â”‚  â”‚  (State)   â”‚             â”‚     â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚     â”‚
â”‚  â”‚                                               â”‚     â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚     â”‚
â”‚  â”‚  â”‚ RadarMap   â”‚  â”‚  Legend    â”‚             â”‚     â”‚
â”‚  â”‚  â”‚ (View)     â”‚  â”‚  (View)    â”‚             â”‚     â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚         Service Layer                         â”‚     â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚     â”‚
â”‚  â”‚  â”‚      weatherService.ts             â”‚      â”‚     â”‚
â”‚  â”‚  â”‚  - fetchRadarMetadata()            â”‚      â”‚     â”‚
â”‚  â”‚  â”‚  - searchLocations()               â”‚      â”‚     â”‚
â”‚  â”‚  â”‚  - fetchCurrentWeather()           â”‚      â”‚     â”‚
â”‚  â”‚  â”‚  - getRadarTileUrl()               â”‚      â”‚     â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ×©×›×‘×ª Communication

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              External APIs Layer                        â”‚
â”‚                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚  â”‚  RainViewer API â”‚  â”‚  Nominatim API  â”‚             â”‚
â”‚  â”‚  (Radar Data)   â”‚  â”‚  (Geocoding)    â”‚             â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â”‚                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                   â”‚
â”‚  â”‚ Open-Meteo API  â”‚                                   â”‚
â”‚  â”‚ (Weather Data)  â”‚                                   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ×¨×›×™×‘×™ ×”××¢×¨×›×ª

### 1. App.tsx - ×¨×›×™×‘ ×¨××©×™

**××—×¨×™×•×ª:**
- × ×™×”×•×œ state ×’×œ×•×‘×œ×™ ×©×œ ×”××¤×œ×™×§×¦×™×”
- ×ª×–××•×Ÿ ×¢×“×›×•× ×™ × ×ª×•× ×™×
- ×ª××•× ×‘×™×Ÿ ×¨×›×™×‘×™×
- ×˜×™×¤×•×œ ×‘××™×¨×•×¢×™ ××©×ª××©

**State ×”×× ×•×”×œ:**
```typescript
- metadata: RainViewerMetadata | null       // × ×ª×•× ×™ ××›"× ×•×œ×•×•×™×™×Ÿ
- currentIndex: number                      // ×¤×¨×™×™× × ×•×›×—×™
- isPlaying: boolean                        // ×”×× ×”×× ×™××¦×™×” ×¨×¦×”
- playbackSpeed: number                     // ××”×™×¨×•×ª ×”×¤×¢×œ×” (ms)
- opacity: number                           // ×©×§×™×¤×•×ª ×©×›×‘×”
- userCoords: [number, number] | null       // ××™×§×•× ××©×ª××©
- mapStyle: MapStyle                        // ×¡×’× ×•×Ÿ ××¤×”
- overlayType: OverlayType                  // ××›"×/×œ×•×•×™×™×Ÿ
- radarScheme: number                       // ×¡×›××ª ×¦×‘×¢ ××›"×
- selectedWeather: CurrentWeather | null    // ××–×’ ××•×•×™×¨ × ×‘×—×¨
```

**Lifecycle Hooks:**
```typescript
useEffect(() => {
  // ×˜×¢×™× ×” ×¨××©×•× ×™×ª + ×¨×¢× ×•×Ÿ ×›×œ 3 ×“×§×•×ª
  loadData();
  const interval = setInterval(loadData, 3 * 60 * 1000);
  return () => clearInterval(interval);
}, [loadData]);

useEffect(() => {
  // ×× ×™××¦×™×” ××•×˜×•××˜×™×ª
  if (isPlaying) {
    timerRef.current = setInterval(() => {
      setCurrentIndex(prev => (prev + 1) % framesCount);
    }, playbackSpeed);
  }
  return () => clearInterval(timerRef.current);
}, [isPlaying, playbackSpeed]);
```

---

### 2. RadarMap.tsx - ×¨×›×™×‘ ××¤×”

**××—×¨×™×•×ª:**
- ×”×¦×’×ª ××¤×ª ×‘×¡×™×¡ (Leaflet)
- ×”×•×¡×¤×ª ×©×›×‘×•×ª radar/satellite
- ×–×™×”×•×™ ×œ×—×™×¦×•×ª ×¢×œ ×”××¤×”
- ×¡× ×›×¨×•×Ÿ ××™×§×•× ×•×–×•×

**×˜×›× ×•×œ×•×’×™×•×ª:**
- React-Leaflet ×œ××™× ×˜×’×¨×¦×™×” ×¢× React
- TileLayer ×œ××¤×•×ª ×‘×¡×™×¡
- Markers ×œ×¡×™××•×Ÿ ××™×§×•××™×

**××•×¤×˜×™××™×–×¦×™×•×ª:**
- ×©×™××•×© ×‘-useMemo ×œ×× ×™×¢×ª renders ××™×•×ª×¨×™×
- lazy loading ×©×œ tiles
- cache ×©×œ ×©×›×‘×•×ª ××¤×”

---

### 3. Legend.tsx - ×¨×›×™×‘ ××§×¨×

**××—×¨×™×•×ª:**
- ×”×¦×’×ª ×¡×§××œ×ª ×¦×‘×¢×™×
- ×”×¡×‘×¨ ×¢×•×¦××ª ××©×§×¢×™×
- ××™×§×•× ×§×‘×•×¢ ×¢×œ ×”××¤×”

---

### 4. weatherService.ts - ×©×›×‘×ª ×©×™×¨×•×ª×™×

**×¤×•× ×§×¦×™×•×ª ×¢×™×§×¨×™×•×ª:**

#### fetchRadarMetadata()
```typescript
// ××—×–×™×¨ ××˜×-×“××˜×” ×©×œ ×›×œ ×”×¤×¨×™×™××™× ×”×–××™× ×™×
Response Structure:
{
  radar: {
    past: RadarFrame[],      // 12 ×¤×¨×™×™××™× ××—×¨×•× ×™×
    nowcast: RadarFrame[]    // 6 ×¤×¨×™×™××™ ×ª×—×–×™×ª
  },
  satellite: {
    infrared: RadarFrame[]   // ×ª××•× ×•×ª ×œ×•×•×™×™×Ÿ
  }
}
```

#### getRadarTileUrl()
```typescript
// ×‘×•× ×” URL ×œ×©×›×‘×ª ××›"×
Parameters:
- host: string              // ×©×¨×ª tiles
- path: string              // × ×ª×™×‘ ×¤×¨×™×™×
- colorScheme: number       // ××–×”×” ×¡×›××ª ×¦×‘×¢
- smooth: boolean           // ×”×—×œ×§×”
- snow: boolean             // ×ª××™×›×” ×‘×©×œ×’
```

#### searchLocations()
```typescript
// ×—×™×¤×•×© ××™×§×•××™× ×‘×™×©×¨××œ
Query: Nominatim OSM
Filter: countrycodes=il
Limit: 5 results
```

#### fetchCurrentWeather()
```typescript
// × ×ª×•× ×™ ××–×’ ××•×•×™×¨ ×¢×‘×•×¨ × ×§×•×“×”
Returns:
- temp: number              // ×˜××¤×¨×˜×•×¨×” (CÂ°)
- condition: string         // ×ª×™××•×¨ ×ª× ××™×
- windSpeed: number         // ××”×™×¨×•×ª ×¨×•×— (km/h)
- rain: number              // ××©×§×¢×™× (mm)
```

---

## ×–×¨×™××ª × ×ª×•× ×™×

### ×ª×¨×©×™× Sequence - ×˜×¢×™× ×ª × ×ª×•× ×™×

```
User              App.tsx         weatherService      RainViewer API
 â”‚                  â”‚                    â”‚                    â”‚
 â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”             â”‚                    â”‚
 â”‚   â”‚ useEffect([])       â”‚             â”‚                    â”‚
 â”‚   â”‚ loadData()          â”‚             â”‚                    â”‚
 â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚                    â”‚
 â”‚              â”‚                        â”‚                    â”‚
 â”‚              â”‚   fetchRadarMetadata() â”‚                    â”‚
 â”‚              â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                    â”‚
 â”‚              â”‚                        â”‚                    â”‚
 â”‚              â”‚                        â”‚  GET /weather-maps.json
 â”‚              â”‚                        â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚
 â”‚              â”‚                        â”‚                    â”‚
 â”‚              â”‚                        â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
 â”‚              â”‚                        â”‚   { radar, sat }   â”‚
 â”‚              â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                    â”‚
 â”‚              â”‚   metadata             â”‚                    â”‚
 â”‚              â”‚                        â”‚                    â”‚
 â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚                    â”‚
 â”‚   â”‚ setMetadata(data)   â”‚             â”‚                    â”‚
 â”‚   â”‚ render RadarMap     â”‚             â”‚                    â”‚
 â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚                    â”‚
 â”‚              â”‚                        â”‚                    â”‚
 â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                        â”‚                    â”‚
 â”‚   Map Display                         â”‚                    â”‚
```

### ×ª×¨×©×™× ×–×¨×™××” - ××™× ×˜×¨××§×¦×™×™×ª ××©×ª××©

```
           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â”‚  User Action    â”‚
           â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                       â”‚
   â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”            â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”
   â”‚  Click  â”‚            â”‚  Search   â”‚
   â”‚   Map   â”‚            â”‚   City    â”‚
   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜            â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
        â”‚                       â”‚
        â”‚                  â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                  â”‚ Nominatim   â”‚
        â”‚                  â”‚   Query     â”‚
        â”‚                  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                       â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
            â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚  Get Lat/Lng   â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ fetchCurrentWeather() â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
            â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚  Open-Meteo    â”‚
            â”‚     Query      â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ Display Weather Panel â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## × ×™×”×•×œ State

### State Management Pattern

×”××¤×œ×™×§×¦×™×” ××©×ª××©×ª ×‘-**Local Component State** ×¢× React Hooks:

```typescript
// Global App State
const [metadata, setMetadata] = useState<RainViewerMetadata | null>(null);
const [currentIndex, setCurrentIndex] = useState(0);
const [isPlaying, setIsPlaying] = useState(true);

// UI State
const [showSettings, setShowSettings] = useState(false);
const [searchResults, setSearchResults] = useState([]);

// User State
const [userCoords, setUserCoords] = useState<[number, number] | null>(null);
const [selectedWeather, setSelectedWeather] = useState<CurrentWeather | null>(null);
```

### State Synchronization

```
Animation Timer â”€â”€â–¶ currentIndex â”€â”€â–¶ RadarMap
                                  â””â”€â”€â–¶ Timeline UI

User Location â”€â”€â–¶ userCoords â”€â”€â–¶ Map Center
                              â””â”€â”€â–¶ Weather Panel

Metadata â”€â”€â–¶ frames[] â”€â”€â–¶ currentFrame â”€â”€â–¶ TileLayer
```

---

## ××•×¤×˜×™××™×–×¦×™×•×ª ×•×‘×™×¦×•×¢×™×

### 1. Memoization
```typescript
// ×× ×™×¢×ª ×—×™×©×•×‘×™× ××™×•×ª×¨×™×
const frames = useMemo(() => 
  overlayType === 'radar' 
    ? [...metadata.radar.past, ...metadata.radar.nowcast]
    : metadata.satellite.infrared,
  [metadata, overlayType]
);
```

### 2. Debouncing & Throttling
- ×—×™×¤×•×©: ××™× ×™××•× 2 ×ª×•×•×™×
- ×¢×“×›×•×Ÿ ××¤×”: throttle ×©×œ 300ms
- ×¨×¢× ×•×Ÿ × ×ª×•× ×™×: ×›×œ 3 ×“×§×•×ª

### 3. Lazy Loading
- ×˜×¢×™× ×ª tiles ×¨×§ ×›×©× ×›× ×¡×™× ×œ×˜×•×•×— ×”×¨××™×™×”
- Cache ×©×œ browser ×œ×ª××•× ×•×ª

### 4. Bundle Optimization
- Vite code splitting
- Tree shaking ×©×œ ×§×•×“ ×œ× × ×“×¨×©
- Minification ×‘×™×™×¦×•×¨

### 5. Network Optimization
```typescript
// Cache ×‘×¨××ª ×©×™×¨×•×ª
const metadataCache = {
  data: null,
  timestamp: 0,
  TTL: 180000 // 3 minutes
};
```

---

## ××‘×˜×—×” ×•×¤×¨×˜×™×•×ª

### 1. API Security
âœ… **××™×Ÿ API Keys ×—×©×•×¤×™×** - ×›×œ ×”-APIs ×¦×™×‘×•×¨×™×™×  
âœ… **HTTPS Only** - ×›×œ ×”×§×¨×™××•×ª ××•×¦×¤× ×•×ª  
âœ… **CORS Headers** - ×›×œ ×”-APIs ×ª×•××›×™× ×‘-CORS  

### 2. User Privacy
âœ… **××™×Ÿ ××™×¡×•×£ × ×ª×•× ×™×** - ×œ× × ×©××¨ ××™×“×¢ ×¢×œ ××©×ª××©×™×  
âœ… **××™×§×•× ××•×¤×¦×™×•× ×œ×™** - ×¨×§ ×‘×”×¡×›××ª ××©×ª××©  
âœ… **××™×Ÿ cookies** - ×œ× × ×“×¨×© authentication  

### 3. Input Validation
```typescript
// ×•×œ×™×“×¦×™×” ×©×œ ×§×œ×˜ ××©×ª××©
if (searchQuery.length < 2) return;

// sanitization ×©×œ ×¤×¨××˜×¨×™×
const safeQuery = encodeURIComponent(query);
```

### 4. Error Handling
```typescript
try {
  const data = await fetchRadarMetadata();
  setMetadata(data);
} catch (err) {
  console.error(err);
  setError('×©×’×™××” ×‘×ª×§×©×•×¨×ª ×¢× ×”×©×¨×ª.');
  // fallback mechanism
}
```

---

## ×ª×¨×©×™× Class Diagram (TypeScript Types)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    RainViewerMetadata   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ + version: string       â”‚
â”‚ + generated: number     â”‚
â”‚ + host: string          â”‚
â”‚ + radar: RadarData      â”‚
â”‚ + satellite: SatData    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ has-a
         â”‚
    â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  RadarFrame â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚ + time: num â”‚
    â”‚ + path: str â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    CurrentWeather       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ + temp: number          â”‚
â”‚ + condition: string     â”‚
â”‚ + windSpeed: number     â”‚
â”‚ + rain: number          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      SearchResult       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ + display_name: string  â”‚
â”‚ + lat: string           â”‚
â”‚ + lon: string           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ×¡×™×›×•× ×˜×›× ×™

×”××¤×œ×™×§×¦×™×” ×‘× ×•×™×” ×¢×œ ×¢×§×¨×•× ×•×ª:

1. **Component-Based Architecture** - ×¨×›×™×‘×™× ×¢×¦×××™×™× ×•× ×™×ª× ×™× ×œ×©×™××•×© ×—×•×–×¨
2. **Unidirectional Data Flow** - ×–×¨×™××ª × ×ª×•× ×™× ×—×“-×›×™×•×•× ×™×ª
3. **Separation of Concerns** - ×”×¤×¨×“×” ×‘×™×Ÿ logic, view ×•-data
4. **Type Safety** - ×©×™××•×© ×‘-TypeScript ×œ×× ×™×¢×ª ×©×’×™××•×ª
5. **Performance First** - ××•×¤×˜×™××™×–×¦×™×•×ª ×œ×—×•×•×™×™×ª ××©×ª××© ×—×œ×§×”
6. **Mobile Responsive** - ×ª××™×›×” ××œ××” ×‘××›×©×™×¨×™× × ×™×™×“×™×

